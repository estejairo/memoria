En este documento se detalla el trabajo realizado en torno al diseño de un sistema de adquisición de datos para detectores de muones, incluyendo antecedentes y detalles del diseño propuesto. El sistema fue implementado en una FPGA mediante Systemverilog, un lenguaje de descripción de \textit{hardware}.

El presente capítulo relata el contexto, las principales motivaciones que originan este proyecto de titulación, el planteamiento del problema, sus alcances y las contribuciones asociadas. Al final del capítulo se incluye además la organización del documento y detalles de cada capítulo.

\section{Contexto}
	El planeta tierra es constantemente bombardeado por rayos cósmicos. Estos provienen del espacio exterior y corresponden principalmente a partículas cargadas, como protones y núcleos atómicos. Se caracterizan por viajar a grandes velocidades, por lo cual también son llamadas partículas de alta energía.
	
	Los rayos incidentes interactúan con la atmósfera, produciendo la ionización del medio y decayendo en partículas secundarias. Estas últimas vuelven a interactuar con otras, generando una efecto en cadena y produciendo así una lluvia de partículas subatómicas sobre la corteza terrestre. La figura \ref{img:cosmic-ray} corresponde a una representación artística de la lluvia de partículas originada por radiación cósmica.
	
	Cerca del 70\% de las partículas que logran llegar a la superficie del planeta corresponden a muones. Estos poseen la misma carga que un electrón, pero con una masa cerca de 200 veces mayor. Esta característica, sumada a su altísima velocidad, permite que los muones pasen a través de la materia. Incluso, son capaces de alcanzar zonas bajo tierra durante el transcurso de su vida media, correspondiente a aproximadamente $2\mu s$.
	
	Al atravesar materia, los muones son absorbidos o su energía se ve disminuida. Detectarlos y medir su energía permite entonces conocer propiedades de la materia que ha sido atravesada por estas partículas. Por ejemplo, es posible realizar un mapa de densidad de terreno a partir de los cruces de muones, proceso conocido como muongrafía o tomografía muónica.
	
	Para llevar a cabo mediciones y análisis de detección de muones se requieren detectores, interfaces de lectura, análisis computacional, y por supuesto, un sistema de adquisición de datos capaz de  transformar las características físicas de eventos detectados a datos computables y analizables para extracción e interpretación de la información.
	
	\begin{figure}[h]
		\centering
		\includegraphics[scale=0.4]{cosmic_rays.jpg}
		\caption{Representación artística de rayos cósmicos y lluvia de partículas subatómicas sobre la corteza terrestre.}
		\label{img:cosmic-ray}
	\end{figure}
	
	
\section{Motivación}
	El ``Sistema de adquisición de datos para detectores de muones'' nace como un requerimiento del Centro Científico Tecnológico de Valparaíso (CCTVal) para aplicaciones de física de partículas, en el marco del proyecto ``sTGC Minería''. 
	
	Uno de los objetivos principales de ``sTGC Minería'' es realizar tomografías muónicas de terreno minero detectando partículas que provengan de radiación cósmica, método similar al que se utiliza para encontrar criptas y cavernas en pirámides egipcias. Estas tomografías sientan las bases para la detección de cavernas subterráneas y estimación de densidad en terrenos mineros. La figura \ref{img:muongrafia} corresponde a una muongrafía de un corte trasversal de terreno.
	
	Producto de la colaboración existente entre CCTVal y el experimento ATLAS, en CERN, el centro cuenta con las herramientas y conocimientos necesarios para la fabricación de detectores de muones en Chile. Los detectores de partículas a utilizar en ``sTGC Minería'' corresponden precisamente a unos basados en los detectores del espectrómetro de muones presente en el experimento ATLAS.
	
	\begin{figure}[h]
		\centering
		\includegraphics[scale=1]{Stgcgif.jpg}
		\caption{Imagen referencial de un mapa de calor para representación de densidades en un corte transversal de terreno.}
		\label{img:muongrafia}
	\end{figure}
	

\section{Planteamiento del Problema}
\label{sec:planteamiento}
	La detección de muones implica una serie de etapas y detectores desarrollados con tecnologías que se utilizan en experimentos tales como ATLAS, en CERN. Particularmente en ``sTGC Minería'', se requiere un sistema que sea capaz de captar las señales generadas por los detectores y que determine de manera fiable y precisa aquellas zonas del detector por las cuales ha pasado un muon.
	
	El ``Sistema de adquisición de datos para detectores de muones'' cumplirá con las funciones de adquirir, discriminar y estructurar la información captada desde el detector, para así contribuir a la tomografía muónica del terreno.
	
 	Como objetivo principal se tiene el detectar la posición del paso de muones en un detector de configuración matricial, indicando el o los cuadrantes que han sido excitados por el paso de las partículas, de manera fiable y eficiente, logrando captar gran cantidad de señales íntegramente.
 	
 	La figura \ref{img:sistema} ilustra el sistema de muongrafía de terreno considerando un solo detector de muones. Para su operación, utiliza dos detectores centelleantes secundarios, un sistema de coincidencias y una interfaz de lectura. El sistema de adquisición de datos capta y discrimina los pulsos generados según se correspondan con la señal de coincidencia asociada a los detectores centelleantes. La información resultante es comunicada a etapas posteriores para análisis de datos.
	
	Es requisito del proyecto que este sistema sea concebido como una herramienta adaptada para operar con detectores de mayor tamaño o con arreglos de detectores individuales, permitiendo el análisis de zonas de mayor área o el estudio de trayectorias de partículas con detectores superpuestos. Esto implica que el sistema debe ser de naturaleza modular y expansible, sobre todo en torno a la cantidad de señales que es capaz de procesar.
	
	Como objetivo secundario, el proyecto debe ser una herramienta replicable que esté disponible para ser utilizada en nuevos proyectos y experimentos del centro de investigación. Así mismo, el desarrollo y la documentación del proceso debe ser un aporte al conocimiento sobre la implementación de sistemas electrónicos para la detección y análisis de partículas utilizando estas tecnologías, ya que es uno de los primeros en ser desarrollados y probados por el centro.
	
	\begin{figure}[h]
		\centering
		\includegraphics[scale=0.55]{sistema.pdf}
		\caption{Diagrama del sistema de muongrafía de terreno para un solo detector. Se incluyen en azul las formas de señal asociadas a la señal de disparo, eventos de detección, y lectura de pulsos.}
		\label{img:sistema}
	\end{figure}						

\section{Alcances y contribuciones}
	Se espera que este sistema sea capaz de generar información suficiente para representar la ubicación del paso de las partículas en la superficie del detector, determinando cuadrantes de $1cm^2$ que hayan sido excitados por el cruce de partículas.
	
	El sistema deberá ser capaz de captar cantidades pares arbitrarias de canales, discriminando partículas mediante la utilización de las señales de disparo disponibles.
	
	La información generada pasará a etapas siguientes de análisis detallado o de representación gráfica, por lo cual es importante que el sistema sea capaz de entregar información pertinentemente ordenada, procesada y seleccionada para dichos fines.
	
	Finalmente, uno de los principales aportes recae en la documentación respecto a entorno, operación y desarrollo del sistema en cuestión. Esto con el fin de facilitar la implementación del diseño en nuevos sistemas, permitir profundizar y mejorar la propuesta diseñada y entregar las herramientas al centro y a futuros estudiantes para operar dispositivos que posean etapas equivalentes.


\section{Organización del documento.}

	Este documento se estructura de la siguiente manera:
	
	\begin{itemize}
		\item El \textbf{Capítulo \ref{cap:art}} incluye el estado del arte en cuanto a dispositivos de adquisición de datos para partículas de altas energías.
		\item El \textbf{Capítulo \ref{cap:arq}} detalla la arquitectura propuesta para la realización de este proyecto, contemplando componentes y estructura del mismo.
		\item El \textbf{Capítulo \ref{cap:stgc}} describe las características del detector de partículas utilizado.
		\item El \textbf{Capítulo \ref{cap:asd}} resume las especificaciones del sistema de lectura para señales provenientes del detector, además de explicar su estructura y funcionamiento.
		\item El \textbf{Capítulo \ref{cap:sampling}} detalla la primera etapa de diseño de hardware, encargada de tomar muestras de los pulsos digitales provenientes de la etapa inmediatamente anterior.
		\item El \textbf{Capitulo \ref{cap:discriminator}} trata sobre el diseño para la etapa de discriminación del sistema de adquisición, la cual selecciona aquellos eventos temporalmente coincidentes con una señal de disparo.
		\item El \textbf{Capítulo \ref{cap:structure}} describe la etapa de estructuración de eventos y su diseño, en donde la información de pulsos capturados es asociada los canales y cuadrantes correspondientes.
		\item El \textbf{Capítulo \ref{cap:analysis}} detalla la etapa de análisis de datos para determinación del paso de partículas cargadas por el detector.
		\item El \textbf{Capítulo \ref{cap:sync}} trata sobre la etapa de sincronización y su diseño, en donde se coordinan eventos capturados por distintos detectores simultáneamente.
		\item El \textbf{Capítulo \ref{cap:comm}} se refiere a la etapa de comunicación serial, a través de la cual el sistema se comunica con computadores externos para envío de datos.
		\item El \textbf{Capítulo \ref{cap:test}} incluye pruebas realizadas en el sistema con el fin de comprobar funcionamiento y resultados del dispositivo.
		\item El \textbf{Capítulo \ref{cap:insights}} resume los resultados de experimentación y desempeño del sistema diseñado.
		\item El \textbf{Capítulo \ref{cap:conclusiones}} incluye las conclusiones finales y trabajo futuro propuesto a partir de lo realizado en este proyecto de titulación.
	\end{itemize}

